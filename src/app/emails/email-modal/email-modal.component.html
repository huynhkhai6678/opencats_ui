<p-dialog [header]="header()" [modal]="true" [(visible)]="visible" [style]="{ width: '40rem' }">
    <form [formGroup]="emailForm" (ngSubmit)="onSubmit(emailForm.valid, emailForm.value)">
        <div class="mt-3 flex gap-4">
            <div class="flex flex-col w-8/12">
                <div class="flex flex-col">
                    <label for="myTextarea" class="font-semibold">Text:</label>
                     <textarea id="myTextarea" rows="10" pTextarea formControlName="text" autocomplete="off"></textarea>
                    @if (isInvalid(emailForm, 'text')) {
                        <p-message severity="error" size="small" variant="simple">Text is required.</p-message>
                    }
                </div>
                <div class="flex mt-2">
                    <p-checkbox inputId="disabled" name="public" formControlName="disabled" [binary]="true"/>
                    <label for="disabled" class="ml-2">Use this template / Feature</label>
                </div>
            </div>
            <div class="flex flex-col w-4/12">
                @for (placeholder of placeholders(); track placeholder) {
                    <p-button class="mt-2" label="{{ placeholder }}" severity="secondary" (onClick)="applyCode(placeholder)"/>
                }
            </div>
        </div>
        <div class="flex justify-end gap-2 mt-4">
            <p-button label="Cancel" severity="secondary" (click)="visible.set(false)" />
            <p-button label="Reset" severity="secondary" (click)="reset()" />
            <p-button label="Save" type="submit" />
        </div>
    </form>
</p-dialog>